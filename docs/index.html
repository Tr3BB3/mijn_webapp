<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Belangrijk: jouw projectpad op GitHub Pages -->
  /mijn_webapp/

  <title>mijn_webapp</title>
  <meta name="description" content="Flutter webapp">

  <!-- PWA / thema (pas aan naar wens) -->
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="mijn_webapp">

  <!-- Icons & manifest (relatieve paden, komen uit build/web/) -->
  favicon.png
  icons/Icon-192.png
  icons/Icon-512.png
  manifest.json

  <!-- Zorg dat deze bestanden na build in docs/ staan:
       - favicon.png
       - icons/Icon-192.png
       - icons/Icon-512.png
       - manifest.json
  -->
  <style>
    /* Klein reset/loader */
    html, body {
      height: 100%;
      margin: 0;
      background: #ffffff;
    }
    .center {
      display:flex; align-items:center; justify-content:center; height:100%;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:#555;
    }
  </style>
</head>
<body>
  <noscript>
    <div class="center">
      Deze app heeft JavaScript nodig om te werken.
    </div>
  </noscript>

  <!-- Flutter runtime -->
  flutter.js</script>

  <script>
    // Start Flutter ZONDER service worker (voorkomt hardnekkige caching-problemen)
    window.addEventListener('load', function () {
      // _flutter wordt door flutter.js op window gezet
      var loader = (window._flutter && window._flutter.loader) || _flutter.loader;

      loader.loadEntrypoint({
        // GEEN serviceWorker property meegeven → niet registreren
        // Als je later SW wilt gebruiken, voeg toe:
        // serviceWorker: { serviceWorkerVersion: '...' }
      }).then(function (engineInitializer) {
        return engineInitializer.initializeEngine();
      }).then(function (appRunner) {
        return appRunner.runApp();
      });
    });
  </script>

  <!-- Optioneel: eenvoudige tekst tijdens init als JS nog busy is -->
  <div class="center" id="loading-text">Laden…</div>
  <script>
    // Verwijder loader zodra Flutter start
    (function() {
      var obs = new MutationObserver(function() {
        var canvas = document.querySelector('flt-glass-pane, canvas');
        if (canvas) {
          var n = document.getElementById('loading-text');
          if (n) n.remove();
          obs.disconnect();
        }
      });
      obs.observe(document.body, { childList: true, subtree: true });
    })();
  </script>
</body>
</html>
